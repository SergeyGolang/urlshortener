# üîó –°–æ–∫—Ä–∞—â–∞—Ç–µ–ª—å URL

–ü—Ä–æ—Å—Ç–æ–π –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å –¥–ª—è —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ —Å REST API.

---

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –∞–ª–∏–∞—Å–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª–∏–∞—Å–æ–≤ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω)
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ URL
- –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ Basic Auth
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
- –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ SQLite
- –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ YAML

---

## üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Go** 1.21+
- **SQLite3** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    git clone https://github.com/SergeyGolang/urlshortener
    cd urlshortener
    go mod download
    ```

2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –¥–ª—è –∫–æ–Ω—Ñ–∏–≥–æ–≤ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω:
    ```bash
    cp config.example.yml config/local.yaml
    ```

3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è:
    ```bash
    # Linux/macOS:
    export CONFIG_PATH=config/local.yaml
    ```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
    ```bash
    go run cmd/url-shortener/main.go
    ```

---

## üîß –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥–∞ (`config.example.yml`)

```yaml
# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã: local, dev, prod
env: "local"

# –ü—É—Ç—å –∫ —Ñ–∞–π–ª—É –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
storage_path: "./storage/storage.db"

http_server:
  # –ê–¥—Ä–µ—Å –∏ –ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
  address: "localhost:8082"
  # –í—Ä–µ–º—è –Ω–∞ —á—Ç–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞ –∏ –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç–≤–µ—Ç–∞
  timeout: 4s
  # –í—Ä–µ–º—è –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –∫–ª–∏–µ–Ω—Ç–æ–º
  idle_timeout: 60s
  # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è Basic Auth
  user: "test"
  # –ü–∞—Ä–æ–ª—å –¥–ª—è Basic Auth
  password: "test"
```

## üìã –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ 

C–æ–∑–¥–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏:

curl -X POST -u test:test \
  -H "Content-Type: application/json" \
  -d '{"url":"https://example.com", "alias":"example"}' \
  http://localhost:8082/url


–ü–µ—Ä–µ—Ö–æ–¥ –ø–æ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–µ:

curl -v http://localhost:8082/example

–ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: 

http://localhost:8082/example


## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤: 

go test -v ./...


## ‚ö†Ô∏è –í–∞–∂–Ω–æ!

–ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ local.yaml –≤ git!

## –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

https://github.com/SergeyGolang

